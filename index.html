<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>اعرف الشخصية</title>
<style>
:root {
  --bg1:#0a0f2c;
  --bg2:#1b2347;
  --accent1:#3b82f6;
  --accent2:#2563eb;
  --joker:#a855f7;
}
*{box-sizing:border-box}
body{margin:0;font-family:Cairo, system-ui, Arial;min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--bg1),var(--bg2));color:#fff;padding:10px}
.container{width:100%;max-width:420px}
.card{background:hsla(220,20%,15%,0.35);backdrop-filter:blur(8px);border-radius:16px;padding:18px;box-shadow:0 8px 30px rgba(2,6,23,.6)}
h1,h2{margin:.25rem 0;text-align:center}
.row{display:flex;flex-direction:column;gap:12px;justify-content:center;margin-top:8px;align-items:center;}
.btn{width:90%;padding:14px 20px;border-radius:14px;border:0;background:linear-gradient(135deg,var(--accent1),var(--accent2));color:#fff;font-weight:700;cursor:pointer;transition:transform .18s,box-shadow .18s,background .3s}
.btn:active{transform:translateY(1px);box-shadow:0 4px 10px rgba(0,0,0,.3)}
.btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06)}
#quizArea .opts{display:flex;flex-direction:column;gap:14px;margin-top:12px}
.opt{background:rgba(255,255,255,0.15);padding:16px;border-radius:14px;border:1px solid rgba(255,255,255,0.2);cursor:pointer;transition:transform .2s,background .2s,color .2s,box-shadow .2s; font-weight:600;color:#f0f0f0}
.opt:hover{transform:scale(1.05);box-shadow:0 4px 15px rgba(0,0,0,.25);background:rgba(255,255,255,0.25);color:#fff}
.opt:active{background:var(--accent2);color:#fff}
.opt:disabled{opacity:.6;cursor:not-allowed}
#timer{font-size:20px;color:#facc15;font-weight:700;text-align:center;margin-top:8px}
#feedback{min-height:28px;margin-top:10px;font-weight:700;text-align:center}
#jokerBtn{background:linear-gradient(135deg,var(--joker),#7c3aed);transition:transform .2s,opacity .3s}
#jokerBtn.used{opacity:0.5;pointer-events:none;}
#jokerBtn:active{transform:scale(0.95);box-shadow:0 4px 15px rgba(0,0,0,.3)}
#nextBtn{width:90%}
.hidden{display:none}
img#finalImg{width:100%;border-radius:12px;margin-top:12px;display:none;filter:blur(40px);transition:filter .6s,transform .45s,opacity .45s}
img#finalImg.show{display:block;transform:scale(1);opacity:1}
.score{font-weight:800;color:#9ae6b4;text-align:center}
.footer-note{font-size:13px;color:#94a3b8;margin-top:8px;text-align:center}
input#guessInput{width:95%;padding:12px 14px;border-radius:12px;border:none;margin-top:8px;font-size:16px;}
@media (max-width:360px){.btn{width:100%}#jokerBtn,#nextBtn{width:100%}}
</style>
</head>
<body>
<div class="container">
  <div class="card">
    <h1>اعرف الشخصية</h1>
    <h1>حل الاسئله صح و خمن مين صاحب الصورة</h1> 
    <div id="teamSelect">
      <h2>اختر الفريق</h2>
      <div class="row">
        <button class="btn" onclick="startTeam('team1')">فريق 1</button>
        <button class="btn" onclick="startTeam('team2')">فريق 2</button>
        <button class="btn" onclick="startTeam('team3')">فريق 3</button>
      </div>
      <p class="footer-note">كل فريق سيجيب على 10 أسئلة. يوجد 60 ثانية لكل سؤال. يمكنك استخدام Joker مرة واحدة لسؤال واحد فقط لرفع نقاطه إلى 20.</p>
    </div>

    <div id="quizArea" class="hidden">
      <div id="timer">الوقت: 60s</div>
      <h2 id="questionText" style="margin-top:8px"></h2>
      <div id="answers" class="opts" aria-live="polite"></div>
      <div id="feedback" aria-live="polite"></div>
      <div style="display:flex;flex-direction:column;gap:10px;margin-top:12px;align-items:center;">
        <button id="jokerBtn" class="btn" onclick="useJoker()">Joker (+20)</button>
        <button id="nextBtn" class="btn secondary hidden" onclick="nextQuestion()">التالي</button>
      </div>
      <div id="scoreBox" style="margin-top:12px">النقاط: <span id="scoreValue" class="score">0</span></div>
    </div>

    <div id="questionResult" class="hidden">
      <h2 id="questionResultText"></h2>
      <button class="btn" onclick="continueQuiz()">التالي</button>
    </div>

    <div id="resultArea" class="hidden">
      <h2>انتهى الكويز — خمن الشخصية</h2>
      <img id="finalImg" alt="صورة الشخصية" />
      <p style="margin-top:10px">نقاط الفريق: <span id="finalScore" class="score">0</span></p>
      <input id="guessInput" placeholder="اكتب اسم الشخصية" />
      <div style="display:flex;flex-direction:column;gap:10px;margin-top:10px;align-items:center;">
        <button class="btn" onclick="checkName()">تأكيد التخمين</button>
        <button class="btn secondary" onclick="restart()">إعادة من البداية</button>
      </div>
      <p id="guessResult" class="footer-note" style="font-weight:800;margin-top:10px"></p>
    </div>
  </div>
</div>
<script>
let currentTeam='', currentQuestionIndex=0, score=0, timerInterval, jokerUsed=false;

const questionsData = {
  team1: [
    {q:'من هو نبي الطوفان؟', options:['نوح','إبراهيم','موسى','داود'], answer:'نوح'},
    {q:'ما اسم السفينة التي بناها نوح؟', options:['الفلك','الطوفان','السفينة الكبيرة','النجاة'], answer:'الفلك'},
    {q:'كم كان عمر نوح عند الطوفان؟', options:['600','500','950','1200'], answer:'600'},
    {q:'ما الذي طلبه الله من نوح أن يفعله قبل الطوفان؟', options:['الصلاة','بناء الفلك','الصوم','الهجرة'], answer:'بناء الفلك'},
    {q:'كم من الحيوان أخذ نوح على الفلك؟', options:['زوج واحد','زوجين','ثلاثة أزواج','أربعة أزواج'], answer:'زوجين'},
    {q:'ما علامة نهاية الطوفان؟', options:['قوس قزح','الشمس','القمر','النجوم'], answer:'قوس قزح'},
    {q:'من ساعد نوح في بناء السفينة؟', options:['أبناؤه','جميع الناس','لا أحد','الملائكة'], answer:'أبناؤه'},
    {q:'كم يوم استمر الطوفان؟', options:['40 يوم','50 يوم','100 يوم','120 يوم'], answer:'40 يوم'},
    {q:'أين استقر الفلك بعد الطوفان؟', options:['جبل أرارات','الأهرامات','القدس','مكة'], answer:'جبل أرارات'},
    {q:'ما درسنا من قصة نوح؟', options:['الصبر والإيمان','الغضب','الكسل','الخيانة'], answer:'الصبر والإيمان'}
  ],
  team2: [
    {q:'من هو يوحنا المعمدان؟', options:['نبي','ملك','حاكم','فيلسوف'], answer:'نبي'},
    {q:'ما رسالته الأساسية؟', options:['التوبة','الصلاة','الحرب','الزكاة'], answer:'التوبة'},
    {q:'أين عمد يوحنا الناس؟', options:['نهر الأردن','البحر الأحمر','الفرات','النيل'], answer:'نهر الأردن'},
    {q:'ما الهدف من المعمودية؟', options:['الغفران','التوبة','الزكاة','الصوم'], answer:'التوبة'},
    {q:'كم من الوقت عاش يوحنا؟', options:['70 سنة','80 سنة','90 سنة','60 سنة'], answer:'70 سنة'},
    {q:'من هم أقرباؤه؟', options:['يسوع المسيح','موسى','إبراهيم','نوح'], answer:'يسوع المسيح'},
    {q:'ماذا لبس يوحنا؟', options:['جلد حيوان','كتان','صوف','حرير'], answer:'جلد حيوان'},
    {q:'ما طعام يوحنا؟', options:['جراد وعسل','خبز','لحم','فاكهة'], answer:'جراد وعسل'},
    {q:'أين ألقى خطبه؟', options:['البرية','القدس','مكة','المدينة'], answer:'البرية'},
    {q:'لماذا سُمي المعمدان؟', options:['لأنه عمد الناس','لأنه ملك','لأنه نبي','لأنه حاكم'], answer:'لأنه عمد الناس'}
  ],
  team3: [
    {q:'من هو إبراهيم؟', options:['نبي','ملك','ملك حرب','فيلسوف'], answer:'نبي'},
    {q:'أين ولد إبراهيم؟', options:['أور الكلدانيين','مكة','القدس','بابل'], answer:'أور الكلدانيين'},
    {q:'من زوجته؟', options:['سارة','مريم','هاجر','رفقة'], answer:'سارة'},
    {q:'كم كان عمره عند ولادة إسحاق؟', options:['100','80','120','60'], answer:'100'},
    {q:'ما اختبار الله لإبراهيم؟', options:['ذبح إسحاق','بناء الكعبة','الصوم','الهجرة'], answer:'ذبح إسحاق'},
    {q:'ما وعد الله لإبراهيم؟', options:['أمة كبيرة','ملك','مدينة','سفينة'], answer:'أمة كبيرة'},
    {q:'من كان أعظم أصدقائه؟', options:['ملائكة','نوح','موسى','داود'], answer:'ملائكة'},
    {q:'ما الدرس من قصة إبراهيم؟', options:['الإيمان والثقة بالله','الغضب','الكسل','الخيانة'], answer:'الإيمان والثقة بالله'},
    {q:'أين استقر إبراهيم بعد الهجرة؟', options:['كنعان','مكة','القدس','بابل'], answer:'كنعان'},
    {q:'ماذا علم إبراهيم الناس؟', options:['عبادة الله وحده','عبادة الأصنام','الحرب','الثروة'], answer:'عبادة الله وحده'}
  ]
};

const finalImages={
  team1:'نوح.gif',
  team2:'يوحنا.jpg',
  team3:'ابراهيم.jpg'
};

function startTeam(team){
  currentTeam=team;
  currentQuestionIndex=0;
  score=0;
  jokerUsed=false;
  document.getElementById('teamSelect').classList.add('hidden');
  document.getElementById('quizArea').classList.remove('hidden');
  document.getElementById('jokerBtn').disabled=false;
  document.getElementById('jokerBtn').classList.remove('hidden');
  document.getElementById('jokerBtn').classList.remove('used');
  showQuestion();
}

function showQuestion(){
  if(!questionsData[currentTeam] || questionsData[currentTeam].length===0){ alert('لا توجد أسئلة لهذا الفريق'); return; }
  const q=questionsData[currentTeam][currentQuestionIndex];
  document.getElementById('questionText').textContent=q.q;
  const answersDiv=document.getElementById('answers');
  answersDiv.innerHTML='';
  q.options.forEach(opt=>{
    let btn=document.createElement('button'); 
    btn.textContent=opt; 
    btn.classList.add('opt'); 
    btn.onclick=()=>handleAnswer(opt,q.answer); 
    answersDiv.appendChild(btn); 
  });
  document.getElementById('nextBtn').classList.add('hidden');
  document.getElementById('jokerBtn').disabled=jokerUsed;
  document.getElementById('jokerBtn').classList.toggle('used', jokerUsed);
  document.getElementById('feedback').textContent='';
  startTimer();
}

function handleAnswer(selected, correct, timeout=false){
  clearInterval(timerInterval);
  Array.from(document.querySelectorAll('.opt')).forEach(b=>b.disabled=true);
  let points = 0;
  if(!timeout && selected===correct){
    points = jokerUsed ? 20 : 10;
  }
  score += points;
  document.getElementById('scoreValue').textContent=score;
  document.getElementById('questionResultText').textContent = timeout ? 'انتهى الوقت! إجابة خاطئة!' : (selected===correct ? 'إجابة صحيحة!' : 'إجابة خاطئة!');
  document.getElementById('quizArea').classList.add('hidden');
  document.getElementById('questionResult').classList.remove('hidden');
  if(jokerUsed){ 
    document.getElementById('jokerBtn').classList.add('hidden'); 
  }
  jokerUsed=false;
}

function continueQuiz(){
  document.getElementById('questionResult').classList.add('hidden');
  currentQuestionIndex++;
  if(currentQuestionIndex>=questionsData[currentTeam].length){ 
    showResult(); 
  }else{ 
    document.getElementById('quizArea').classList.remove('hidden'); 
    showQuestion(); 
  }
}

function useJoker(){ 
  jokerUsed=true; 
  const btn=document.getElementById('jokerBtn'); 
  btn.disabled=true; 
  btn.classList.add('used'); 
  btn.style.transform='scale(0.9)'; 
  setTimeout(()=>{btn.style.transform='scale(1)';},200); 
}

function showResult(){
  document.getElementById('quizArea').classList.add('hidden');
  document.getElementById('questionResult').classList.add('hidden');
  const img=document.getElementById('finalImg');
  img.src=finalImages[currentTeam];
  let blurPercent = Math.max(0, ((100 - Math.min(score, 100)) / 100) * 20);
  img.style.filter = `blur(${blurPercent}px)`;
  img.classList.add('show');
  document.getElementById('resultArea').classList.remove('hidden');
  document.getElementById('finalScore').textContent=score;
}

function checkName(){
  const input=document.getElementById('guessInput').value.trim();
  const correctNames={team1:'نوح',team2:'يوحنا المعمدان',team3:'إبراهيم'};
  document.getElementById('guessResult').textContent = input===correctNames[currentTeam] ? 'صحيح! عرفت الشخصية.' : 'خطأ، حاول مرة أخرى.';
}

function restart(){
  document.getElementById('resultArea').classList.add('hidden');
  document.getElementById('teamSelect').classList.remove('hidden');
  currentQuestionIndex=0; score=0; jokerUsed=false;
  document.getElementById('jokerBtn').classList.remove('hidden');
  document.getElementById('jokerBtn').classList.remove('used');
}

function startTimer(){
  let time=60;
  document.getElementById('timer').textContent='الوقت: '+time+'s';
  timerInterval=setInterval(()=>{
    time--; 
    document.getElementById('timer').textContent='الوقت: '+time+'s'; 
    if(time<=0){ 
      clearInterval(timerInterval); 
      handleAnswer('', '', true); 
    } 
  },1000);
}
</script>
</body>
</html>



